# Query for / page
query HomeBots {
  latest: bots(pagination: { sortOrder: DESC, sortBy: "createdAt" }) {
    nodes {
      avatar
      shortDescription
      name
      tags {
        displayName
      }
      id
      guildCount
      votes {
        totalCount
      }
      certified
    }
  }
  popular: bots(pagination: { sortOrder: DESC, sortBy: "votes" }) {
    nodes {
      avatar
      shortDescription
      name
      tags {
        displayName
      }
      id
      guildCount
      votes {
        totalCount
      }
      certified
    }
  }
}

# Query for a single bot
query SingleBot($input: GetBotInput!) {
  getBot(input: $input) {
    avatar
    certified
    description
    website
    supportServer
    status
    shortDescription
    prefix
    github
    guildCount
    id
    importedFrom
    inviteLink
    name
    votes {
      totalCount
    }
    owners {
      username
      id
      avatar
    }
    tags {
      displayName
      name
    }
  }
}

# Query for a single bot vote information
query SingleBotVote($input: GetBotInput!, $canVoteInput: BotVoteCreateInput!) {
  getBot(input: $input) {
    avatar
    id
    name
    votes {
      totalCount
    }
    guildCount
    certified
  }
  canVote(input: $canVoteInput) {
    canVote
    expires
  }
}

# Query to check if user can vote a bot
query CanVote($input: BotVoteCreateInput!) {
  canVote(input: $input) {
    canVote
    expires
  }
}

# Query to get bot webhook
query Webhook($input: GetWebhookInput!) {
  getWebhook(input: $input) {
    id
    events
    payloadFields
    secret
    url
  }
}